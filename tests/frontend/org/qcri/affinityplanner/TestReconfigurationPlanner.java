package org.qcri.affinityplanner;

import java.util.HashMap;
import java.util.List;
import java.util.Map;

import org.qcri.affinityplanner.Plan.Range;

import edu.brown.BaseTestCase;
import edu.brown.utils.ProjectType;

/**
 * @author rytaft
 */
public class TestReconfigurationPlanner extends BaseTestCase {

    final int PARTITIONS_PER_SITE = 6;
    Map<String,Integer> tableSizes;
    Map<String,Integer> tableSizesBug;

    
    @Override
    protected void setUp() throws Exception {
        super.setUp(ProjectType.B2W);
        this.tableSizes = new HashMap<>();
        tableSizes.put("stk_inventory_stock_quantity", 1000003);
        tableSizes.put("stk_stock_transaction", 1000003);
        tableSizes.put("stk_inventory_stock", 1000003);
        tableSizes.put("cart", 1000003);
        tableSizes.put("checkout", 1000003);
        
        this.tableSizesBug = new HashMap<>();
        tableSizesBug.put("stk_inventory_stock_quantity", 1000020);
        tableSizesBug.put("stk_stock_transaction", 1000020);
        tableSizesBug.put("stk_inventory_stock", 1000020);
        tableSizesBug.put("cart", 1000020);
        tableSizesBug.put("checkout", 1000020);
    }

    public void testPlanner1() throws Exception {
        ReconfigurationPlanner planner = new ReconfigurationPlanner (plan1, 18, PARTITIONS_PER_SITE);
        planner.repartition();
        System.out.println(planner.getPlanString());
        Plan plan = planner.getPlan();
        for(String table : plan.table_names) {
            Map<Integer,List<Range>> rangeMap = plan.getAllRanges(table);
            for (int i = 0; i < 18; ++i) {
                assertEquals(4,rangeMap.get(i).size());
            }
        }
        
        assertTrue(plan.verifyPlan(tableSizes));
    }
    
    public void testPlanner2() throws Exception {
        ReconfigurationPlanner planner = new ReconfigurationPlanner (plan2, 36, PARTITIONS_PER_SITE);
        planner.repartition();
        System.out.println(planner.getPlanString());
        Plan plan = planner.getPlan();
        for(String table : plan.table_names) {
            Map<Integer,List<Range>> rangeMap = plan.getAllRanges(table);
            Long keys_per_part = new Long(1000003/36);
            for (int i = 0; i < 36; ++i) {
                long num_keys = Plan.getRangeListWidth(rangeMap.get(i));
                assertTrue(num_keys <= keys_per_part + 3 && num_keys >= keys_per_part - 3);
            }
        }
        
        assertTrue(plan.verifyPlan(tableSizes));
    }

    public void testPlannerBug() throws Exception {
        ReconfigurationPlanner planner = new ReconfigurationPlanner (plan_bug, 30, PARTITIONS_PER_SITE);
        planner.repartition();
        System.out.println(planner.getPlanString());
        Plan plan = planner.getPlan();
        for(String table : plan.table_names) {
            Map<Integer,List<Range>> rangeMap = plan.getAllRanges(table);
            Long keys_per_part = new Long(1000020/30);
            for (int i = 0; i < 30; ++i) {
                long num_keys = Plan.getRangeListWidth(rangeMap.get(i));
                assertTrue(num_keys <= keys_per_part + 3 && num_keys >= keys_per_part - 3);
            }
        }
        
        assertTrue(plan.verifyPlan(tableSizesBug));
    }

    
    String plan1 = 
         "    {"
       + "     \"partition_plan\": {"
       + "       \"tables\": {"
       + "         \"stk_inventory_stock_quantity\": {"
       + "           \"partitions\": {"
       + "             \"0\": \"0-27778\"," 
       + "             \"1\": \"27778-55556\"," 
       + "             \"2\": \"55556-83334\"," 
       + "             \"3\": \"83334-111112\"," 
       + "             \"4\": \"111112-138890\"," 
       + "             \"5\": \"138890-166668\"," 
       + "             \"6\": \"166668-194446\"," 
       + "             \"7\": \"194446-222224\"," 
       + "             \"8\": \"222224-250002\"," 
       + "             \"9\": \"250002-277780\"," 
       + "             \"10\": \"277780-305558\"," 
       + "             \"11\": \"305558-333336\"," 
       + "             \"12\": \"333336-361114\"," 
       + "             \"13\": \"361114-388892\"," 
       + "             \"14\": \"388892-416670\"," 
       + "             \"15\": \"416670-444448\"," 
       + "             \"16\": \"444448-472226\"," 
       + "             \"17\": \"472226-500004\"," 
       + "             \"18\": \"500004-527782\"," 
       + "             \"19\": \"527782-555560\"," 
       + "             \"20\": \"555560-583338\"," 
       + "             \"21\": \"583338-611116\"," 
       + "             \"22\": \"611116-638894\"," 
       + "             \"23\": \"638894-666672\"," 
       + "             \"24\": \"666672-694450\"," 
       + "             \"25\": \"694450-722228\"," 
       + "             \"26\": \"722228-750006\"," 
       + "             \"27\": \"750006-777784\"," 
       + "             \"28\": \"777784-805562\"," 
       + "             \"29\": \"805562-833340\"," 
       + "             \"30\": \"833340-861118\"," 
       + "             \"31\": \"861118-888895\"," 
       + "             \"32\": \"888895-916672\"," 
       + "             \"33\": \"916672-944449\"," 
       + "             \"34\": \"944449-972226\"," 
       + "             \"35\": \"972226-1000003\""
       + "            }"
       + "          },"
       + "         \"cart\": {"
       + "            \"partitions\": {"
       + "             \"0\": \"0-27778\"," 
       + "             \"1\": \"27778-55556\"," 
       + "             \"2\": \"55556-83334\"," 
       + "             \"3\": \"83334-111112\"," 
       + "             \"4\": \"111112-138890\"," 
       + "             \"5\": \"138890-166668\"," 
       + "             \"6\": \"166668-194446\"," 
       + "             \"7\": \"194446-222224\"," 
       + "             \"8\": \"222224-250002\"," 
       + "             \"9\": \"250002-277780\"," 
       + "             \"10\": \"277780-305558\"," 
       + "             \"11\": \"305558-333336\"," 
       + "             \"12\": \"333336-361114\"," 
       + "             \"13\": \"361114-388892\"," 
       + "             \"14\": \"388892-416670\"," 
       + "             \"15\": \"416670-444448\"," 
       + "             \"16\": \"444448-472226\"," 
       + "             \"17\": \"472226-500004\"," 
       + "             \"18\": \"500004-527782\"," 
       + "             \"19\": \"527782-555560\"," 
       + "             \"20\": \"555560-583338\"," 
       + "             \"21\": \"583338-611116\"," 
       + "             \"22\": \"611116-638894\"," 
       + "             \"23\": \"638894-666672\"," 
       + "             \"24\": \"666672-694450\"," 
       + "             \"25\": \"694450-722228\"," 
       + "             \"26\": \"722228-750006\"," 
       + "             \"27\": \"750006-777784\"," 
       + "             \"28\": \"777784-805562\"," 
       + "             \"29\": \"805562-833340\"," 
       + "             \"30\": \"833340-861118\"," 
       + "             \"31\": \"861118-888895\"," 
       + "             \"32\": \"888895-916672\"," 
       + "             \"33\": \"916672-944449\"," 
       + "             \"34\": \"944449-972226\"," 
       + "             \"35\": \"972226-1000003\""
       + "            }"
       + "          },"
       + "         \"stk_stock_transaction\": {"
       + "           \"partitions\": {"
       + "             \"0\": \"0-27778\"," 
       + "             \"1\": \"27778-55556\"," 
       + "             \"2\": \"55556-83334\"," 
       + "             \"3\": \"83334-111112\"," 
       + "             \"4\": \"111112-138890\"," 
       + "             \"5\": \"138890-166668\"," 
       + "             \"6\": \"166668-194446\"," 
       + "             \"7\": \"194446-222224\"," 
       + "             \"8\": \"222224-250002\"," 
       + "             \"9\": \"250002-277780\"," 
       + "             \"10\": \"277780-305558\"," 
       + "             \"11\": \"305558-333336\"," 
       + "             \"12\": \"333336-361114\"," 
       + "             \"13\": \"361114-388892\"," 
       + "             \"14\": \"388892-416670\"," 
       + "             \"15\": \"416670-444448\"," 
       + "             \"16\": \"444448-472226\"," 
       + "             \"17\": \"472226-500004\"," 
       + "             \"18\": \"500004-527782\"," 
       + "             \"19\": \"527782-555560\"," 
       + "             \"20\": \"555560-583338\"," 
       + "             \"21\": \"583338-611116\"," 
       + "             \"22\": \"611116-638894\"," 
       + "             \"23\": \"638894-666672\"," 
       + "             \"24\": \"666672-694450\"," 
       + "             \"25\": \"694450-722228\"," 
       + "             \"26\": \"722228-750006\"," 
       + "             \"27\": \"750006-777784\"," 
       + "             \"28\": \"777784-805562\"," 
       + "             \"29\": \"805562-833340\"," 
       + "             \"30\": \"833340-861118\"," 
       + "             \"31\": \"861118-888895\"," 
       + "             \"32\": \"888895-916672\"," 
       + "             \"33\": \"916672-944449\"," 
       + "             \"34\": \"944449-972226\"," 
       + "             \"35\": \"972226-1000003\""
       + "            }"
       + "          },"
       + "         \"checkout\": {"
       + "           \"partitions\": {"
       + "             \"0\": \"0-27778\"," 
       + "             \"1\": \"27778-55556\"," 
       + "             \"2\": \"55556-83334\"," 
       + "             \"3\": \"83334-111112\"," 
       + "             \"4\": \"111112-138890\"," 
       + "             \"5\": \"138890-166668\"," 
       + "             \"6\": \"166668-194446\"," 
       + "             \"7\": \"194446-222224\"," 
       + "             \"8\": \"222224-250002\"," 
       + "             \"9\": \"250002-277780\"," 
       + "             \"10\": \"277780-305558\"," 
       + "             \"11\": \"305558-333336\"," 
       + "             \"12\": \"333336-361114\"," 
       + "             \"13\": \"361114-388892\"," 
       + "             \"14\": \"388892-416670\"," 
       + "             \"15\": \"416670-444448\"," 
       + "             \"16\": \"444448-472226\"," 
       + "             \"17\": \"472226-500004\"," 
       + "             \"18\": \"500004-527782\"," 
       + "             \"19\": \"527782-555560\"," 
       + "             \"20\": \"555560-583338\"," 
       + "             \"21\": \"583338-611116\"," 
       + "             \"22\": \"611116-638894\"," 
       + "             \"23\": \"638894-666672\"," 
       + "             \"24\": \"666672-694450\"," 
       + "             \"25\": \"694450-722228\"," 
       + "             \"26\": \"722228-750006\"," 
       + "             \"27\": \"750006-777784\"," 
       + "             \"28\": \"777784-805562\"," 
       + "             \"29\": \"805562-833340\"," 
       + "             \"30\": \"833340-861118\"," 
       + "             \"31\": \"861118-888895\"," 
       + "             \"32\": \"888895-916672\"," 
       + "             \"33\": \"916672-944449\"," 
       + "             \"34\": \"944449-972226\"," 
       + "             \"35\": \"972226-1000003\""
       + "            }"
       + "          },"
       + "         \"stk_inventory_stock\": {"
       + "           \"partitions\": {"
       + "             \"0\": \"0-27778\"," 
       + "             \"1\": \"27778-55556\"," 
       + "             \"2\": \"55556-83334\"," 
       + "             \"3\": \"83334-111112\"," 
       + "             \"4\": \"111112-138890\"," 
       + "             \"5\": \"138890-166668\"," 
       + "             \"6\": \"166668-194446\"," 
       + "             \"7\": \"194446-222224\"," 
       + "             \"8\": \"222224-250002\"," 
       + "             \"9\": \"250002-277780\"," 
       + "             \"10\": \"277780-305558\"," 
       + "             \"11\": \"305558-333336\"," 
       + "             \"12\": \"333336-361114\"," 
       + "             \"13\": \"361114-388892\"," 
       + "             \"14\": \"388892-416670\"," 
       + "             \"15\": \"416670-444448\"," 
       + "             \"16\": \"444448-472226\"," 
       + "             \"17\": \"472226-500004\"," 
       + "             \"18\": \"500004-527782\"," 
       + "             \"19\": \"527782-555560\"," 
       + "             \"20\": \"555560-583338\"," 
       + "             \"21\": \"583338-611116\"," 
       + "             \"22\": \"611116-638894\"," 
       + "             \"23\": \"638894-666672\"," 
       + "             \"24\": \"666672-694450\"," 
       + "             \"25\": \"694450-722228\"," 
       + "             \"26\": \"722228-750006\"," 
       + "             \"27\": \"750006-777784\"," 
       + "             \"28\": \"777784-805562\"," 
       + "             \"29\": \"805562-833340\"," 
       + "             \"30\": \"833340-861118\"," 
       + "             \"31\": \"861118-888895\"," 
       + "             \"32\": \"888895-916672\"," 
       + "             \"33\": \"916672-944449\"," 
       + "             \"34\": \"944449-972226\"," 
       + "             \"35\": \"972226-1000003\""
       + "            }"
       + "          }"
       + "        }"
       + "      }," 
       + "     \"default_table\": \"cart\""
       + "    }";
    
    String plan2 =
         "    {"
       + "     \"partition_plan\": {"
       + "       \"tables\": {"
       + "         \"stk_inventory_stock_quantity\": {"
       + "           \"partitions\": {"
       + "             \"0\": \"0-27778,972226-1000003\","
       + "             \"1\": \"27778-55556,888895-916672\","
       + "             \"2\": \"55556-83334,805562-833340\","
       + "             \"3\": \"83334-111112,722228-750006\","
       + "             \"4\": \"111112-138890,638894-666672\","
       + "             \"5\": \"138890-166668,555560-583338\"," 
       + "             \"6\": \"166668-194446,944449-972226\","
       + "             \"7\": \"194446-222224,861118-888895\","
       + "             \"8\": \"222224-250002,777784-805562\","
       + "             \"9\": \"250002-277780,694450-722228\","
       + "             \"10\": \"277780-305558,611116-638894\"," 
       + "             \"11\": \"305558-333336,527782-555560\","
       + "             \"12\": \"333336-361114,916672-944449\","
       + "             \"13\": \"361114-388892,833340-861118\","
       + "             \"14\": \"388892-416670,750006-777784\","
       + "             \"15\": \"416670-444448,666672-694450\","
       + "             \"16\": \"444448-472226,583338-611116\"," 
       + "             \"17\": \"472226-527782\""
       + "            }"
       + "          }," 
       + "         \"cart\": {"
       + "           \"partitions\": {"
       + "             \"0\": \"0-27778,972226-1000003\","
       + "             \"1\": \"27778-55556,888895-916672\","
       + "             \"2\": \"55556-83334,805562-833340\","
       + "             \"3\": \"83334-111112,722228-750006\","
       + "             \"4\": \"111112-138890,638894-666672\","
       + "             \"5\": \"138890-166668,555560-583338\"," 
       + "             \"6\": \"166668-194446,944449-972226\","
       + "             \"7\": \"194446-222224,861118-888895\","
       + "             \"8\": \"222224-250002,777784-805562\","
       + "             \"9\": \"250002-277780,694450-722228\","
       + "             \"10\": \"277780-305558,611116-638894\"," 
       + "             \"11\": \"305558-333336,527782-555560\","
       + "             \"12\": \"333336-361114,916672-944449\","
       + "             \"13\": \"361114-388892,833340-861118\","
       + "             \"14\": \"388892-416670,750006-777784\","
       + "             \"15\": \"416670-444448,666672-694450\","
       + "             \"16\": \"444448-472226,583338-611116\"," 
       + "             \"17\": \"472226-527782\""
       + "            }"
       + "          }," 
       + "         \"stk_stock_transaction\": {"
       + "           \"partitions\": {"
       + "             \"0\": \"0-27778,972226-1000003\","
       + "             \"1\": \"27778-55556,888895-916672\","
       + "             \"2\": \"55556-83334,805562-833340\","
       + "             \"3\": \"83334-111112,722228-750006\","
       + "             \"4\": \"111112-138890,638894-666672\","
       + "             \"5\": \"138890-166668,555560-583338\"," 
       + "             \"6\": \"166668-194446,944449-972226\","
       + "             \"7\": \"194446-222224,861118-888895\","
       + "             \"8\": \"222224-250002,777784-805562\","
       + "             \"9\": \"250002-277780,694450-722228\","
       + "             \"10\": \"277780-305558,611116-638894\"," 
       + "             \"11\": \"305558-333336,527782-555560\","
       + "             \"12\": \"333336-361114,916672-944449\","
       + "             \"13\": \"361114-388892,833340-861118\","
       + "             \"14\": \"388892-416670,750006-777784\","
       + "             \"15\": \"416670-444448,666672-694450\","
       + "             \"16\": \"444448-472226,583338-611116\"," 
       + "             \"17\": \"472226-527782\""
       + "            }"
       + "          }," 
       + "         \"checkout\": {"
       + "           \"partitions\": {"
       + "             \"0\": \"0-27778,972226-1000003\","
       + "             \"1\": \"27778-55556,888895-916672\","
       + "             \"2\": \"55556-83334,805562-833340\","
       + "             \"3\": \"83334-111112,722228-750006\","
       + "             \"4\": \"111112-138890,638894-666672\","
       + "             \"5\": \"138890-166668,555560-583338\"," 
       + "             \"6\": \"166668-194446,944449-972226\","
       + "             \"7\": \"194446-222224,861118-888895\","
       + "             \"8\": \"222224-250002,777784-805562\","
       + "             \"9\": \"250002-277780,694450-722228\","
       + "             \"10\": \"277780-305558,611116-638894\"," 
       + "             \"11\": \"305558-333336,527782-555560\","
       + "             \"12\": \"333336-361114,916672-944449\","
       + "             \"13\": \"361114-388892,833340-861118\","
       + "             \"14\": \"388892-416670,750006-777784\","
       + "             \"15\": \"416670-444448,666672-694450\","
       + "             \"16\": \"444448-472226,583338-611116\"," 
       + "             \"17\": \"472226-527782\""
       + "            }"
       + "          }," 
       + "         \"stk_inventory_stock\": {"
       + "           \"partitions\": {"
       + "             \"0\": \"0-27778,972226-1000003\","
       + "             \"1\": \"27778-55556,888895-916672\","
       + "             \"2\": \"55556-83334,805562-833340\","
       + "             \"3\": \"83334-111112,722228-750006\","
       + "             \"4\": \"111112-138890,638894-666672\","
       + "             \"5\": \"138890-166668,555560-583338\"," 
       + "             \"6\": \"166668-194446,944449-972226\","
       + "             \"7\": \"194446-222224,861118-888895\","
       + "             \"8\": \"222224-250002,777784-805562\","
       + "             \"9\": \"250002-277780,694450-722228\","
       + "             \"10\": \"277780-305558,611116-638894\"," 
       + "             \"11\": \"305558-333336,527782-555560\","
       + "             \"12\": \"333336-361114,916672-944449\","
       + "             \"13\": \"361114-388892,833340-861118\","
       + "             \"14\": \"388892-416670,750006-777784\","
       + "             \"15\": \"416670-444448,666672-694450\","
       + "             \"16\": \"444448-472226,583338-611116\"," 
       + "             \"17\": \"472226-527782\""
       + "            }"
       + "          }"
       + "        }"
       + "      }," 
       + "     \"default_table\": \"cart\""
       + "    }";
    
    
    String plan_bug =
         "    {" 
       + "       \"partition_plan\": {\"tables\": {"
       + "         \"stk_stock_transaction\": {"
       + "           \"partitions\": {"
       + "           \"0\": \"0-27780,523824-523827\","
       + "           \"1\": \"83335-111115,607159-607162\","
       + "           \"2\": \"166670-194450,690494-690497\","
       + "           \"3\": \"250005-277785,773829-773832\","
       + "           \"4\": \"333340-361120,857164-857167\","
       + "           \"5\": \"416675-444455,940499-940502\","
       + "           \"6\": \"500010-523824,523827-527790,544658-544664\","
       + "           \"7\": \"583345-607159,607162-611125,627993-627999\","
       + "           \"8\": \"666680-690494,690497-694460,711328-711334\","
       + "           \"9\": \"750015-773829,773832-777795,794663-794669\","
       + "           \"10\": \"833350-857164,857167-861130,877998-878004\","
       + "           \"11\": \"916685-940499,940502-944465,961333-961339\","
       + "           \"12\": \"41668-62502,541678-544658,544664-548624,561330-561339\","
       + "           \"13\": \"125003-145837,625013-627993,627999-631959,644665-644674\","
       + "           \"14\": \"208338-229172,708348-711328,711334-715294,728000-728009\","
       + "           \"15\": \"291673-312507,791683-794663,794669-798629,811335-811344\","
       + "           \"17\": \"458343-479177,958353-961333,961339-965299,978005-978014\","
       + "           \"16\": \"375008-395842,875018-877998,878004-881964,894670-894679\","
       + "           \"19\": \"145837-166670,644674-645847,648828-651624\","
       + "           \"18\": \"62502-83335,561339-562512,565493-568289\","
       + "           \"21\": \"312507-333340,811344-812517,815498-818294\","
       + "           \"20\": \"229172-250005,728009-729182,732163-734959\","
       + "           \"23\": \"479177-500010,978014-979187,982168-984964\","
       + "           \"22\": \"395842-416675,894679-895852,898833-901629\","
       + "           \"25\": \"116671-125003,616681-625013,637515-644665,651624-652794,658350-661134,662724-662739\","
       + "           \"24\": \"33336-41668,533346-541678,554180-561330,568289-569459,575015-577799,579389-579404\","
       + "           \"27\": \"283341-291673,783351-791683,804185-811335,818294-819464,825020-827804,829394-829409\","
       + "           \"26\": \"200006-208338,700016-708348,720850-728000,734959-736129,741685-744469,746059-746074\","
       + "           \"29\": \"450011-458343,950021-958353,970855-978005,984964-986134,991690-994474,996064-996079\","
       + "           \"28\": \"366676-375008,866686-875018,887520-894670,901629-902799,908355-911139,912729-912744\","
       + "           \"31\": \"111115-116671,611125-616681,631959-637515,652794-658350,661134-662724,662739-666680\","
       + "           \"30\": \"27780-33336,527790-533346,548624-554180,569459-575015,577799-579389,579404-583345\","
       + "           \"34\": \"361120-366676,861130-866686,881964-887520,902799-908355,911139-912729,912744-916685\","
       + "           \"35\": \"444455-450011,944465-950021,965299-970855,986134-991690,994474-996064,996079-1000020\","
       + "           \"32\": \"194450-200006,694460-700016,715294-720850,736129-741685,744469-746059,746074-750015\","
       + "           \"33\": \"277785-283341,777795-783351,798629-804185,819464-825020,827804-829394,829409-833350\""
       + "         }},"
       + "         \"checkout\": {"
       + "           \"partitions\": {"
       + "           \"0\": \"0-27780,523824-523827\","
       + "           \"1\": \"83335-111115,607159-607162\","
       + "           \"2\": \"166670-194450,690494-690497\","
       + "           \"3\": \"250005-277785,773829-773832\","
       + "           \"4\": \"333340-361120,857164-857167\","
       + "           \"5\": \"416675-444455,940499-940502\","
       + "           \"6\": \"500010-523824,523827-527790,544658-544664\","
       + "           \"7\": \"583345-607159,607162-611125,627993-627999\","
       + "           \"8\": \"666680-690494,690497-694460,711328-711334\","
       + "           \"9\": \"750015-773829,773832-777795,794663-794669\","
       + "           \"10\": \"833350-857164,857167-861130,877998-878004\","
       + "           \"11\": \"916685-940499,940502-944465,961333-961339\","
       + "           \"12\": \"41668-62502,541678-544658,544664-548624,561330-561339\","
       + "           \"13\": \"125003-145837,625013-627993,627999-631959,644665-644674\","
       + "           \"14\": \"208338-229172,708348-711328,711334-715294,728000-728009\","
       + "           \"15\": \"291673-312507,791683-794663,794669-798629,811335-811344\","
       + "           \"17\": \"458343-479177,958353-961333,961339-965299,978005-978014\","
       + "           \"16\": \"375008-395842,875018-877998,878004-881964,894670-894679\","
       + "           \"19\": \"145837-166670,644674-645847,648828-651624\","
       + "           \"18\": \"62502-83335,561339-562512,565493-568289\","
       + "           \"21\": \"312507-333340,811344-812517,815498-818294\","
       + "           \"20\": \"229172-250005,728009-729182,732163-734959\","
       + "           \"23\": \"479177-500010,978014-979187,982168-984964\","
       + "           \"22\": \"395842-416675,894679-895852,898833-901629\","
       + "           \"25\": \"116671-125003,616681-625013,637515-644665,651624-652794,658350-661134,662724-662739\","
       + "           \"24\": \"33336-41668,533346-541678,554180-561330,568289-569459,575015-577799,579389-579404\","
       + "           \"27\": \"283341-291673,783351-791683,804185-811335,818294-819464,825020-827804,829394-829409\","
       + "           \"26\": \"200006-208338,700016-708348,720850-728000,734959-736129,741685-744469,746059-746074\","
       + "           \"29\": \"450011-458343,950021-958353,970855-978005,984964-986134,991690-994474,996064-996079\","
       + "           \"28\": \"366676-375008,866686-875018,887520-894670,901629-902799,908355-911139,912729-912744\","
       + "           \"31\": \"111115-116671,611125-616681,631959-637515,652794-658350,661134-662724,662739-666680\","
       + "           \"30\": \"27780-33336,527790-533346,548624-554180,569459-575015,577799-579389,579404-583345\","
       + "           \"34\": \"361120-366676,861130-866686,881964-887520,902799-908355,911139-912729,912744-916685\","
       + "           \"35\": \"444455-450011,944465-950021,965299-970855,986134-991690,994474-996064,996079-1000020\","
       + "           \"32\": \"194450-200006,694460-700016,715294-720850,736129-741685,744469-746059,746074-750015\","
       + "           \"33\": \"277785-283341,777795-783351,798629-804185,819464-825020,827804-829394,829409-833350\""
       + "         }},"
       + "         \"stk_inventory_stock\": {"
       + "           \"partitions\": {"
       + "           \"0\": \"0-27780,523824-523827\","
       + "           \"1\": \"83335-111115,607159-607162\","
       + "           \"2\": \"166670-194450,690494-690497\","
       + "           \"3\": \"250005-277785,773829-773832\","
       + "           \"4\": \"333340-361120,857164-857167\","
       + "           \"5\": \"416675-444455,940499-940502\","
       + "           \"6\": \"500010-523824,523827-527790,544658-544664\","
       + "           \"7\": \"583345-607159,607162-611125,627993-627999\","
       + "           \"8\": \"666680-690494,690497-694460,711328-711334\","
       + "           \"9\": \"750015-773829,773832-777795,794663-794669\","
       + "           \"10\": \"833350-857164,857167-861130,877998-878004\","
       + "           \"11\": \"916685-940499,940502-944465,961333-961339\","
       + "           \"12\": \"41668-62502,541678-544658,544664-548624,561330-561339\","
       + "           \"13\": \"125003-145837,625013-627993,627999-631959,644665-644674\","
       + "           \"14\": \"208338-229172,708348-711328,711334-715294,728000-728009\","
       + "           \"15\": \"291673-312507,791683-794663,794669-798629,811335-811344\","
       + "           \"17\": \"458343-479177,958353-961333,961339-965299,978005-978014\","
       + "           \"16\": \"375008-395842,875018-877998,878004-881964,894670-894679\","
       + "           \"19\": \"145837-166670,644674-645847,648828-651624\","
       + "           \"18\": \"62502-83335,561339-562512,565493-568289\","
       + "           \"21\": \"312507-333340,811344-812517,815498-818294\","
       + "           \"20\": \"229172-250005,728009-729182,732163-734959\","
       + "           \"23\": \"479177-500010,978014-979187,982168-984964\","
       + "           \"22\": \"395842-416675,894679-895852,898833-901629\","
       + "           \"25\": \"116671-125003,616681-625013,637515-644665,651624-652794,658350-661134,662724-662739\","
       + "           \"24\": \"33336-41668,533346-541678,554180-561330,568289-569459,575015-577799,579389-579404\","
       + "           \"27\": \"283341-291673,783351-791683,804185-811335,818294-819464,825020-827804,829394-829409\","
       + "           \"26\": \"200006-208338,700016-708348,720850-728000,734959-736129,741685-744469,746059-746074\","
       + "           \"29\": \"450011-458343,950021-958353,970855-978005,984964-986134,991690-994474,996064-996079\","
       + "           \"28\": \"366676-375008,866686-875018,887520-894670,901629-902799,908355-911139,912729-912744\","
       + "           \"31\": \"111115-116671,611125-616681,631959-637515,652794-658350,661134-662724,662739-666680\","
       + "           \"30\": \"27780-33336,527790-533346,548624-554180,569459-575015,577799-579389,579404-583345\","
       + "           \"34\": \"361120-366676,861130-866686,881964-887520,902799-908355,911139-912729,912744-916685\","
       + "           \"35\": \"444455-450011,944465-950021,965299-970855,986134-991690,994474-996064,996079-1000020\","
       + "           \"32\": \"194450-200006,694460-700016,715294-720850,736129-741685,744469-746059,746074-750015\","
       + "           \"33\": \"277785-283341,777795-783351,798629-804185,819464-825020,827804-829394,829409-833350\""
       + "         }},"
       + "         \"cart\": {"
       + "           \"partitions\": {"
       + "           \"0\": \"0-27780,523824-523827\","
       + "           \"1\": \"83335-111115,607159-607162\","
       + "           \"2\": \"166670-194450,690494-690497\","
       + "           \"3\": \"250005-277785,773829-773832\","
       + "           \"4\": \"333340-361120,857164-857167\","
       + "           \"5\": \"416675-444455,940499-940502\","
       + "           \"6\": \"500010-523824,523827-527790,544658-544664\","
       + "           \"7\": \"583345-607159,607162-611125,627993-627999\","
       + "           \"8\": \"666680-690494,690497-694460,711328-711334\","
       + "           \"9\": \"750015-773829,773832-777795,794663-794669\","
       + "           \"10\": \"833350-857164,857167-861130,877998-878004\","
       + "           \"11\": \"916685-940499,940502-944465,961333-961339\","
       + "           \"12\": \"41668-62502,541678-544658,544664-548624,561330-561339\","
       + "           \"13\": \"125003-145837,625013-627993,627999-631959,644665-644674\","
       + "           \"14\": \"208338-229172,708348-711328,711334-715294,728000-728009\","
       + "           \"15\": \"291673-312507,791683-794663,794669-798629,811335-811344\","
       + "           \"17\": \"458343-479177,958353-961333,961339-965299,978005-978014\","
       + "           \"16\": \"375008-395842,875018-877998,878004-881964,894670-894679\","
       + "           \"19\": \"145837-166670,644674-645847,648828-651624\","
       + "           \"18\": \"62502-83335,561339-562512,565493-568289\","
       + "           \"21\": \"312507-333340,811344-812517,815498-818294\","
       + "           \"20\": \"229172-250005,728009-729182,732163-734959\","
       + "           \"23\": \"479177-500010,978014-979187,982168-984964\","
       + "           \"22\": \"395842-416675,894679-895852,898833-901629\","
       + "           \"25\": \"116671-125003,616681-625013,637515-644665,651624-652794,658350-661134,662724-662739\","
       + "           \"24\": \"33336-41668,533346-541678,554180-561330,568289-569459,575015-577799,579389-579404\","
       + "           \"27\": \"283341-291673,783351-791683,804185-811335,818294-819464,825020-827804,829394-829409\","
       + "           \"26\": \"200006-208338,700016-708348,720850-728000,734959-736129,741685-744469,746059-746074\","
       + "           \"29\": \"450011-458343,950021-958353,970855-978005,984964-986134,991690-994474,996064-996079\","
       + "           \"28\": \"366676-375008,866686-875018,887520-894670,901629-902799,908355-911139,912729-912744\","
       + "           \"31\": \"111115-116671,611125-616681,631959-637515,652794-658350,661134-662724,662739-666680\","
       + "           \"30\": \"27780-33336,527790-533346,548624-554180,569459-575015,577799-579389,579404-583345\","
       + "           \"34\": \"361120-366676,861130-866686,881964-887520,902799-908355,911139-912729,912744-916685\","
       + "           \"35\": \"444455-450011,944465-950021,965299-970855,986134-991690,994474-996064,996079-1000020\","
       + "           \"32\": \"194450-200006,694460-700016,715294-720850,736129-741685,744469-746059,746074-750015\","
       + "           \"33\": \"277785-283341,777795-783351,798629-804185,819464-825020,827804-829394,829409-833350\""
       + "         }},"
       + "         \"stk_inventory_stock_quantity\": {"
       + "           \"partitions\": {"
       + "           \"0\": \"0-27780,523824-523827\","
       + "           \"1\": \"83335-111115,607159-607162\","
       + "           \"2\": \"166670-194450,690494-690497\","
       + "           \"3\": \"250005-277785,773829-773832\","
       + "           \"4\": \"333340-361120,857164-857167\","
       + "           \"5\": \"416675-444455,940499-940502\","
       + "           \"6\": \"500010-523824,523827-527790,544658-544664\","
       + "           \"7\": \"583345-607159,607162-611125,627993-627999\","
       + "           \"8\": \"666680-690494,690497-694460,711328-711334\","
       + "           \"9\": \"750015-773829,773832-777795,794663-794669\","
       + "           \"10\": \"833350-857164,857167-861130,877998-878004\","
       + "           \"11\": \"916685-940499,940502-944465,961333-961339\","
       + "           \"12\": \"41668-62502,541678-544658,544664-548624,561330-561339\","
       + "           \"13\": \"125003-145837,625013-627993,627999-631959,644665-644674\","
       + "           \"14\": \"208338-229172,708348-711328,711334-715294,728000-728009\","
       + "           \"15\": \"291673-312507,791683-794663,794669-798629,811335-811344\","
       + "           \"17\": \"458343-479177,958353-961333,961339-965299,978005-978014\","
       + "           \"16\": \"375008-395842,875018-877998,878004-881964,894670-894679\","
       + "           \"19\": \"145837-166670,644674-645847,648828-651624\","
       + "           \"18\": \"62502-83335,561339-562512,565493-568289\","
       + "           \"21\": \"312507-333340,811344-812517,815498-818294\","
       + "           \"20\": \"229172-250005,728009-729182,732163-734959\","
       + "           \"23\": \"479177-500010,978014-979187,982168-984964\","
       + "           \"22\": \"395842-416675,894679-895852,898833-901629\","
       + "           \"25\": \"116671-125003,616681-625013,637515-644665,651624-652794,658350-661134,662724-662739\","
       + "           \"24\": \"33336-41668,533346-541678,554180-561330,568289-569459,575015-577799,579389-579404\","
       + "           \"27\": \"283341-291673,783351-791683,804185-811335,818294-819464,825020-827804,829394-829409\","
       + "           \"26\": \"200006-208338,700016-708348,720850-728000,734959-736129,741685-744469,746059-746074\","
       + "           \"29\": \"450011-458343,950021-958353,970855-978005,984964-986134,991690-994474,996064-996079\","
       + "           \"28\": \"366676-375008,866686-875018,887520-894670,901629-902799,908355-911139,912729-912744\","
       + "           \"31\": \"111115-116671,611125-616681,631959-637515,652794-658350,661134-662724,662739-666680\","
       + "           \"30\": \"27780-33336,527790-533346,548624-554180,569459-575015,577799-579389,579404-583345\","
       + "           \"34\": \"361120-366676,861130-866686,881964-887520,902799-908355,911139-912729,912744-916685\","
       + "           \"35\": \"444455-450011,944465-950021,965299-970855,986134-991690,994474-996064,996079-1000020\","
       + "           \"32\": \"194450-200006,694460-700016,715294-720850,736129-741685,744469-746059,746074-750015\","
       + "           \"33\": \"277785-283341,777795-783351,798629-804185,819464-825020,827804-829394,829409-833350\""
       + "         }}"
       + "       }},"
       + "       \"default_table\": \"cart\""
       + "     }";


}
